# Base image
FROM node:14

# Install dependencies
RUN npm install -g npm@latest

# Set working directory
WORKDIR /app

# Copy all files to the container
COPY . .

# Install project dependencies
RUN npm install

# Build the project
RUN npm run build

# Run tests
RUN npm test

# Set the entry point for the container
ENTRYPOINT ["npm", "start"]

# Expose the application port
EXPOSE 3000

